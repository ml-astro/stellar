<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Искатель полюса</title>
</head>
<body style="background-color: black;">
    <div style="display:none;">
        <img id="finder" width="543" height="543" src="./finder.jpg">
    </div>
    <canvas id="myCanvas" width="543" height="543" style="border:1px solid grey;">
    </canvas>
    <script>
        const referenceDate = new Date(2025, 0, 1, 20, 39, 56)
        var now = new Date()
        let interval = now - referenceDate
        let angle = (interval / 86164098.903691) % 1 * 360
        console.log(angle % 1 * 360);
        const canvas = document.getElementById("myCanvas");
        const ctx = canvas.getContext("2d");
        const image = document.getElementById("finder");

        const background = new Image();
        background.src = './finder.jpg'; // замените на путь к вашему изображению
        const centerX = 542 / 2
        const centerY = 542 / 2

        function toRadians(degrees) {
            return degrees * (Math.PI / 180)
        }

        background.onload = function () {
            // Рисуем фон
            ctx.drawImage(background, 0, 0, 543, 543);
            ctx.beginPath();
            ctx.save();
            ctx.translate(centerX, centerY);
            ctx.rotate(toRadians(-angle + 90));
            ctx.arc(118, 0, 10, 0, 2 * Math.PI);
            ctx.fillStyle = 'white';
            ctx.fill();
            ctx.closePath();
            ctx.restore();
        }
    </script>
</body>

</html>